# 本日の開発タスク: 詰碁アプリ（GORewrite）枝分かれ手順実装

## 目標
詰碁の問題において、正解ルートだけでなく、失敗ルートや変化図（枝分かれ）を登録・管理・再生できる機能を実装する。

## タスク一覧

- [ ] 現状のデータ構造の確認
    - [ ] `GoBoardInput.tsx` での石の配置ロジック
    - [ ] `tsumego.ts` (Sanityスキーマ) の構造確認（現在 `stones` 配列のみか、木構造が必要か）

- [ ] スキーマの更新（必要な場合）
    - [ ] 枝分かれ（Variation）を表現するためのスキーマ変更
    - [ ] 再帰的構造またはParent参照の導入

- [ ] UIの実装
    - [ ] 「変化図モード」の追加、または既存の入力モードでの分岐サポート
    - [ ] 分岐作成時のUI（「ここから分岐」ボタンなど）
    - [ ] 分岐ツリーの視覚化（オプション、まずはナビゲーションができれば可）

- [ ] 再生機能の更新
    - [ ] `GoBoard.tsx` での分岐再生対応
    - [ ] ユーザーが分岐点で次の手として別の手を選んだ場合の挙動

## Legionへの依頼（バックグラウンド）
- [ ] YogaProでの変更に対するビルドチェック
- [ ] ブラウザでの動作検証（YogaProでの実装が一段落したら）
